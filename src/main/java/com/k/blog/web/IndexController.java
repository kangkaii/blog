package com.k.blog.web;import com.k.blog.model.bo.StatisticsBo;import com.k.blog.model.vo.CommentVo;import com.k.blog.model.vo.ContentVo;import com.k.blog.model.vo.LogVo;import com.k.blog.service.LogService;import com.k.blog.service.SiteService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.RequestMapping;import javax.servlet.http.HttpServletRequest;import java.util.List;/** * @author kangkai on 2018/4/24. */@Controller@RequestMapping("/admin")public class IndexController {    @Autowired    SiteService siteService;    @Autowired    LogService logService;    @GetMapping(value = {"","/index"})    public String index(HttpServletRequest request){        //取数据        List<CommentVo> comments = siteService.recentComments(5);        List<ContentVo> contents = siteService.recentContents(5);        StatisticsBo statistics = siteService.getStatistics();        // 取最新的20条日志        List<LogVo> logs = logService.getLogs(1, 5);        //存入 request        request.setAttribute("comments", comments);        request.setAttribute("articles", contents);        request.setAttribute("statistics", statistics);        request.setAttribute("logs", logs);        return "admin/index";    }}